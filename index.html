<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ML Portfolio — Sudhir Singh</title>
<meta name="description" content="Portfolio — Machine Learning Engineer. Production & deployed side projects, model cards, repos, demos." />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  /* ---------- Design: corporate, minimal ---------- */
  :root{
    --bg:#f6f8fb;
    --panel:#ffffff;
    --muted:#6b7280;
    --text:#0b1320;
    --accent:#0b6cff;
    --accent-2:#0bb6a4;
    --glass: rgba(11,17,32,0.03);
    --radius:10px;
    --maxw:1000px;
  }
  [data-theme="dark"]{
    --bg:#0b1220;
    --panel:#0b1228;
    --muted:#99a6b4;
    --text:#e6eef6;
    --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    -webkit-font-smoothing:antialiased;background:var(--bg);color:var(--text);display:flex;justify-content:center;padding:28px;
  }
  .wrap{width:100%;max-width:var(--maxw);}

  /* header */
  header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:18px}
  .brand{display:flex;gap:14px;align-items:center}
  .logo{width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
  h1{margin:0;font-size:20px}
  .subtitle{color:var(--muted);font-size:13px;margin-top:3px}

  /* layout */
  .grid{display:grid;grid-template-columns:1fr 320px;gap:20px}
  main{min-width:0}
  aside{min-width:0}

  /* hero */
  .hero{background:var(--panel);padding:20px;border-radius:var(--radius);box-shadow:0 10px 30px rgba(11,17,32,0.06)}
  .hero h2{margin:0;font-size:18px}
  .hero p{margin:10px 0;color:var(--muted)}
  .cta-row{display:flex;gap:10px;margin-top:12px}

  /* projects list */
  .projects{margin-top:16px;display:flex;flex-direction:column;gap:12px}
  .project{background:var(--panel);padding:14px;border-radius:10px;display:grid;grid-template-columns:1fr 240px;gap:12px;align-items:start;box-shadow:0 10px 26px rgba(11,17,32,0.04)}
  .project .left{}
  .project h3{margin:0;font-size:16px}
  .meta{color:var(--muted);font-size:13px;margin-top:6px}
  .desc{margin-top:10px;color:var(--muted);line-height:1.45}

  /* right: model card */
  .model-card{background:linear-gradient(180deg,rgba(11,107,204,0.06),transparent);padding:12px;border-radius:8px;border:1px solid rgba(11,17,32,0.04)}
  .model-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
  .chip{background:var(--glass);padding:6px 8px;border-radius:999px;font-weight:700;font-size:13px;color:var(--muted)}

  .metrics{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
  .metric{background:#fff;padding:8px;border-radius:8px;border:1px solid rgba(11,17,32,0.04);min-width:88px;text-align:center}
  .metric strong{display:block;font-size:16px}
  .metric span{display:block;color:var(--muted);font-size:12px;margin-top:6px}

  .links{display:flex;gap:8px;margin-top:12px}
  .btn{padding:8px 10px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
  .btn.primary{background:var(--accent);color:white}
  .btn.ghost{background:transparent;border:1px solid rgba(11,17,32,0.06)}

  /* readiness checklist */
  .checklist{margin-top:12px}
  .checklist li{margin:6px 0;color:var(--muted);font-size:13px}

  /* tech stack + contact (aside) */
  .aside-card{background:var(--panel);padding:14px;border-radius:10px;box-shadow:0 10px 30px rgba(11,17,32,0.04)}
  .tech-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:6px;margin-top:8px}
  .badge{padding:6px 8px;border-radius:6px;background:var(--glass);font-weight:700;font-size:13px;color:var(--muted)}
  .contact{margin-top:12px}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}

  /* responsive */
  @media (max-width:980px){
    .grid{grid-template-columns:1fr;gap:12px}
    .project{grid-template-columns:1fr}
  }

  /* print */
  @media print{
    body{background:white;color:#111;padding:0}
    header, .cta-row {display:none}
    .project{page-break-inside:avoid;box-shadow:none;border-radius:0}
  }
</style>
</head>
<body>
  <div class="wrap" id="root">
    <!-- Editable content objects are near the top of the script. Replace fields there. -->

    <header>
      <div class="brand">
        <div class="logo" id="logoText">ML</div>
        <div>
          <h1 id="nameHeader">Sudhir Singh</h1>
          <div class="subtitle" id="roleHeader">Machine Learning Engineer — 5 years</div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:10px">
        <button class="btn ghost" id="themeToggle">Dark</button>
        <a id="cvLink" class="btn ghost" href="#" download>Download CV</a>
      </div>
    </header>

    <div class="grid">
      <main>
        <section class="hero" aria-labelledby="intro-heading">
          <!-- removed hero greeting and experience line per request -->
          <!-- You can add a short tagline here if you want, but it's intentionally empty now -->
        </section>

        <section style="margin-top:16px">
          <h2 style="margin:0 0 8px 0">Deployed projects</h2>
          <div class="projects" id="projectsList" aria-live="polite">
            <!-- Projects injected here -->
          </div>
        </section>
      </main>

      <aside>
        <div class="aside-card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:800" id="sideName">Sudhir Singh</div>
              <div class="meta small" id="sideRole">ML Engineer</div>
            </div>
            <div style="text-align:right">
              <div style="font-weight:800" id="impactBadge">+18%</div>
              <div class="meta small">example impact</div>
            </div>
          </div>

          <div style="margin-top:12px">
            <div style="font-weight:700">Primary tech</div>
            <div class="tech-grid" id="techGrid" aria-hidden>
              <!-- tech badges injected -->
            </div>
          </div>

          <div class="contact">
            <div style="font-weight:700">Contact</div>
            <div style="margin-top:8px;color:var(--muted)">
              <div id="contactEmail">hire.sudhir.singh@icloud.com</div>

              <!-- contactLinks will be populated by JS; single source of truth for links -->
              <div id="contactLinks" style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap"></div>
            </div>
          </div>
        </div>

        <div class="aside-card" style="margin-top:12px">
          <div style="font-weight:700">Notes for reviewers</div>
          <ul style="margin-top:8px;color:var(--muted);font-size:13px">
            <li>All projects link to live demo + repo where possible.</li>
            <li>Model cards include evaluation, latency, and infra notes.</li>
            <li>CI, containerization and monitoring listed per project.</li>
          </ul>
        </div>
      </aside>
    </div>

    <footer>© <span id="year"></span> Sudhir Singh — Machine Learning Engineer</footer>
  </div>

<script>
/* ============================
   EDITABLE: Replace PROFILE and PROJECTS with your real content.
   - PROFILE: basic profile + links
   - PROJECTS: list of deployed side projects (id, title, short, demo, repo, metrics, modelCard, readiness)
   ============================ */

// PROFILE: role will be filled dynamically below
const PROFILE = {
  name: "Sudhir Singh",
  role: "",                         // filled dynamically below
  email: "hire.sudhir.singh@icloud.com",
  github: "https://github.com/yourhandle",
  kaggle: "https://kaggle.com/yourhandle",
  cv: "#",                           // link to CV PDF
  tech: ["Python","PyTorch","TensorFlow","Docker","Kubernetes","FastAPI","Postgres","Redis"],
  impact: "+18% conversion (example)"
};

// dynamic experience calculation (rounded to nearest year)
// set this to the month & year you started (month is 1-12)
const EXPERIENCE_START = { year: 2021, month: 1 }; // <-- change to your start YYYY, MM

function calculateRoundedExperience(start) {
  const now = new Date();
  const startDate = new Date(start.year, start.month - 1, 1);
  const diffMs = now - startDate;
  const diffYears = diffMs / (1000 * 60 * 60 * 24 * 365.25);
  return Math.max(0, Math.round(diffYears)); // never negative
}

PROFILE.role = `Machine Learning Engineer — ${calculateRoundedExperience(EXPERIENCE_START)} years`;

/* Example projects — replace with your real projects.
 - metrics: plain object with keys like F1, AUC, Latency_p95_ms, Throughput_rps, Model_size_MB
 - modelCard: { dataset, training_data_size, eval_metric, notes }
 - readiness: array of strings (Monitoring, CI, Docker, Canary, Rollback)
*/
const PROJECTS = [
  {
    id: "reco-edge",
    title: "Realtime Recommender (edge CPU)",
    short: "Quantized transformer recommender running on CPU at the edge. Focus: low-latency personalized ranking.",
    demo: "https://demo.example.com/reco",   // live demo URL or '#'
    repo: "https://github.com/yourhandle/reco-edge",
    metrics: { AUC: 0.84, Latency_p95_ms: 30, Throughput_rps: 180, Model_size_MB: 38 },
    modelCard: {
      dataset: "Prod events (1B events)",
      training_data_size: "200k labeled sessions",
      eval_metric: "AUC",
      notes: "Knowledge distillation + 8-bit quantization, pruning applied for edge CPU footprint."
    },
    readiness: ["Dockerized","CI tested","Monitoring (Prometheus)","Canary rollout"],
    screenshot: "" // optional image URL
  },

  {
    id: "ner-prod",
    title: "NER Service — Domain Adapted",
    short: "Fine-tuned transformer for domain NER with retraining pipeline and MLflow tracking.",
    demo: "#",
    repo: "https://github.com/yourhandle/ner-service",
    metrics: { F1: 0.91, Latency_p95_ms: 42, Model_size_MB: 220 },
    modelCard: {
      dataset: "Internal labeled corpus (12k sentences)",
      training_data_size: "12k",
      eval_metric: "F1",
      notes: "Active learning for labeling efficiency; canary deployment with auto-rollback on metric drop."
    },
    readiness: ["MLflow tracking","Docker","CI for training","Auto-rollback"],
    screenshot: ""
  },

  {
    id: "forecast-api",
    title: "Demand Forecast API",
    short: "Weekly retraining forecasting service with API and monitoring; integrated into inventory pipeline.",
    demo: "https://demo.example.com/forecast",
    repo: "https://github.com/yourhandle/forecast-api",
    metrics: { MAPE: "6.2%", Retrain_freq: "weekly", Serving_latency_ms: 120 },
    modelCard: {
      dataset: "Sales + Promotions (3 years)",
      training_data_size: "3 years aggregated",
      eval_metric: "MAPE",
      notes: "Hybrid model (statistical + LSTM), feature store on Postgres, retrain pipeline (Airflow)."
    },
    readiness: ["Scheduled retrain","Monitoring & alerts","Dockerized","Integration tests"],
    screenshot: ""
  }
];

/* ============================
   RENDERING: do not edit unless you know JS
   ============================ */

function q(id){ return document.getElementById(id) }

// Header / profile wiring
q('nameHeader').textContent = PROFILE.name;
q('roleHeader').textContent = PROFILE.role;
q('sideName').textContent = PROFILE.name;
q('sideRole').textContent = PROFILE.role;
q('impactBadge').textContent = PROFILE.impact || '';
q('contactEmail').textContent = PROFILE.email;
q('cvLink').href = PROFILE.cv || '#';

// populate contact links in the aside (single source of truth)
const contactLinksEl = q('contactLinks');
const links = [];
if (PROFILE.email) links.push({ href: `mailto:${PROFILE.email}`, label: 'Email', klass: 'btn primary' });
if (PROFILE.github) links.push({ href: PROFILE.github, label: 'GitHub', klass: 'btn ghost', target: '_blank' });
if (PROFILE.kaggle) links.push({ href: PROFILE.kaggle, label: 'Kaggle', klass: 'btn ghost', target: '_blank' });

contactLinksEl.innerHTML = links.map(l => {
  const target = l.target ? ` target="${l.target}" rel="noreferrer"` : '';
  return `<a class="${l.klass}" href="${escapeAttr(l.href)}"${target}>${escapeHtml(l.label)}</a>`;
}).join('');

// tech badges
const techGrid = q('techGrid');
techGrid.innerHTML = PROFILE.tech.map(t => `<div class="badge">${t}</div>`).join('');

// projects render
const projectsList = q('projectsList');

function metricCell(key, value){
  if(value === undefined || value === null) return '';
  return `<div class="metric" title="${key}"><strong>${value}</strong><span>${key.replace(/_/g,' ')}</span></div>`;
}

function renderProject(p){
  // left: title, desc, links. right: model card + metrics
  const left = `
    <div class="left">
      <h3>${escapeHtml(p.title)}</h3>
      <div class="meta">${escapeHtml(p.short)}</div>
      <div class="desc">${escapeHtml(p.modelCard && p.modelCard.notes ? p.modelCard.notes : '')}</div>
      <div class="links">
        ${p.demo ? `<a class="btn ghost" href="${escapeAttr(p.demo)}" target="_blank" rel="noreferrer">Live demo</a>` : ''}
        ${p.repo ? `<a class="btn ghost" href="${escapeAttr(p.repo)}" target="_blank" rel="noreferrer">Repo</a>` : ''}
        <button class="btn ghost" data-id="${p.id}" onclick="openModelModal('${p.id}')">Model card</button>
      </div>
      <ul class="checklist" aria-hidden>
        ${ (p.readiness || []).map(r => `<li>✅ ${escapeHtml(r)}</li>`).join('') }
      </ul>
    </div>`;

  const right = `
    <div class="right model-card" aria-hidden>
      <div style="font-weight:800">${escapeHtml(p.modelCard && p.modelCard.dataset ? p.modelCard.dataset : 'Dataset')}</div>
      <div class="model-row">
        ${ (p.modelCard && p.modelCard.training_data_size) ? `<div class="chip">Train: ${escapeHtml(p.modelCard.training_data_size)}</div>` : '' }
        ${ (p.modelCard && p.modelCard.eval_metric) ? `<div class="chip">Eval: ${escapeHtml(p.modelCard.eval_metric)}</div>` : '' }
      </div>
      <div class="metrics">
        ${ metricCell('AUC', p.metrics && p.metrics.AUC) }
        ${ metricCell('F1', p.metrics && p.metrics.F1) }
        ${ metricCell('Latency_p95_ms', p.metrics && p.metrics.Latency_p95_ms) }
        ${ metricCell('Throughput_rps', p.metrics && p.metrics.Throughput_rps) }
      </div>
    </div>`;

  return `<div class="project" id="${escapeAttr(p.id)}">${left}${right}</div>`;
}

projectsList.innerHTML = PROJECTS.map(renderProject).join('');

// modal for model card - simple accessible dialog
let modalEl = null;
function createModal(){
  if(modalEl) return modalEl;
  modalEl = document.createElement('div');
  modalEl.setAttribute('role','dialog');
  modalEl.setAttribute('aria-modal','true');
  modalEl.style.position='fixed';
  modalEl.style.inset='0';
  modalEl.style.display='none';
  modalEl.style.alignItems='center';
  modalEl.style.justifyContent='center';
  modalEl.style.background='rgba(4,10,20,0.6)';
  modalEl.innerHTML = `<div style="background:var(--panel);padding:18px;border-radius:10px;max-width:820px;max-height:80vh;overflow:auto">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div><h3 id="modalTitle" style="margin:0"></h3><div id="modalSubtitle" style="color:var(--muted);font-size:13px;margin-top:6px"></div></div>
      <div><button id="modalClose" class="btn ghost">Close</button></div>
    </div>
    <div id="modalBody" style="margin-top:12px"></div>
  </div>`;
  document.body.appendChild(modalEl);
  modalEl.querySelector('#modalClose').addEventListener('click', ()=> { modalEl.style.display='none'; document.body.style.overflow=''; });
  modalEl.addEventListener('click', (e)=> { if(e.target === modalEl){ modalEl.style.display='none'; document.body.style.overflow=''; }});
  return modalEl;
}

window.openModelModal = function(id){
  const p = PROJECTS.find(x=>x.id===id);
  if(!p) return;
  const m = createModal();
  q('modalTitle').textContent = p.title;
  q('modalSubtitle').textContent = p.repo ? 'Repo available' : '';
  q('modalBody').innerHTML = `
    <h4 style="margin-top:0">Model card</h4>
    <table style="width:100%;border-collapse:collapse">
      <tr><td style="padding:6px;font-weight:700;width:160px">Dataset</td><td style="padding:6px">${escapeHtml(p.modelCard.dataset)}</td></tr>
      <tr><td style="padding:6px;font-weight:700">Training data</td><td style="padding:6px">${escapeHtml(p.modelCard.training_data_size)}</td></tr>
      <tr><td style="padding:6px;font-weight:700">Eval metric</td><td style="padding:6px">${escapeHtml(p.modelCard.eval_metric)}</td></tr>
      <tr><td style="padding:6px;font-weight:700">Notes</td><td style="padding:6px;color:var(--muted)">${escapeHtml(p.modelCard.notes)}</td></tr>
    </table>
    <h4 style="margin-top:12px">Metrics</h4>
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      ${ Object.entries(p.metrics || {}).map(([k,v]) => `<div style="background:var(--glass);padding:8px;border-radius:8px;min-width:120px"><strong>${v}</strong><div style="color:var(--muted);font-size:13px">${k}</div></div>`).join('') }
    </div>
    <h4 style="margin-top:12px">Production readiness</h4>
    <ul style="color:var(--muted)">${ (p.readiness||[]).map(r=>`<li>${escapeHtml(r)}</li>`).join('') }</ul>
    <div style="margin-top:12px;display:flex;gap:8px">
      ${ p.repo ? `<a class="btn ghost" href="${escapeAttr(p.repo)}" target="_blank">Open repo</a>` : '' }
      ${ p.demo ? `<a class="btn primary" href="${escapeAttr(p.demo)}" target="_blank">Open demo</a>` : '' }
    </div>
  `;
  m.style.display='flex';
  document.body.style.overflow='hidden';
};

// theme toggle
q('themeToggle').addEventListener('click', ()=>{
  const r = document.documentElement;
  if(r.hasAttribute('data-theme')){ r.removeAttribute('data-theme'); q('themeToggle').textContent = 'Dark'; }
  else { r.setAttribute('data-theme','dark'); q('themeToggle').textContent = 'Light'; }
});

// small helpers & accessibility
function escapeHtml(s){ if(!s && s !== 0) return ''; return String(s).replace(/[&<>"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c])); }
function escapeAttr(s){ return escapeHtml(s).replace(/'/g,"&#39;"); }

// fill year
q('year').textContent = new Date().getFullYear();

/* ============================
   Remove empty hero card (prevents blank white box)
   This only removes .hero if it has no elements and no visible text.
   ============================ */
(function removeEmptyHero(){
  const hero = document.querySelector('.hero');
  if (!hero) return;
  const text = hero.textContent ? hero.textContent.trim() : '';
  const hasVisibleText = text.length > 0;
  const hasElements = hero.querySelector('*') !== null;
  if (!hasVisibleText && !hasElements) {
    hero.remove();
  }
})();

/* Keyboard: open first project with 'j', focus first contact link with '/' */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'j'){ const first = document.querySelector('.project'); if(first) first.scrollIntoView({behavior:'smooth'}); }
  if(e.key === '/' ){ e.preventDefault(); const firstContact = document.querySelector('#contactLinks a'); if(firstContact) firstContact.focus(); }
});

</script>
</body>
</html>
